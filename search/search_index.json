{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Documenta\u00e7\u00e3o da API Rest Aplicativos Safer","title":"Home"},{"location":"#documentacao-da-api-rest-aplicativos-safer","text":"","title":"Documenta\u00e7\u00e3o da API Rest Aplicativos Safer"},{"location":"auth/","text":"Modulo destinado a todas as requisi\u00e7\u00f5es relacionadas ao processo de autentica\u00e7\u00e3o. ( Cadastro, login, logout, etc) Login Introdu\u00e7\u00e3o Requisi\u00e7\u00e3o utilizada para validar um usu\u00e1rio. Se for bem sucedida, retorna um Token JWT que ser\u00e1 usado para requisi\u00e7\u00f5es futuras. Request Endpoint: https://www.segcontrole.com.br/safer/v1/login.php Method: Parametros Parametro Tipo Descri\u00e7\u00e3o usuario STRING Obrigat\u00f3rio Usu\u00e1rio utilizado para fazer o acesso(login). Nessa caso, o parametro usuario corresponde ao numero de celular usado no cadastro. senha STRING Obrigat\u00f3rio Senha de acesso do usu\u00e1rio. token_push STRING Obrigat\u00f3rio Token push gerado pelo firebase messaging. Utilizado para enviar notifica\u00e7\u00f5es push para o usu\u00e1rio. token_voip STRING Obrigat\u00f3rio Token de chamadas VOIP so STRING Obrigat\u00f3rio Indica qual o sistema operacional em que o app esta instalado. Valores: IOS / ANDROID so_ver STRING Obrigat\u00f3rio Indica qual a vers\u00e3o do sistema operacional. app_id INT Obrigat\u00f3rio ID do aplicativo. ( Cada aplicativo da familia Safer tem seu ID unico ) Authorization \ud83d\udd11 \u2002 Token JWT Examples Request Dart var response = await dio . post ( 'https://www.segcontrole.com.br/safer/v1/login.php' , options: Options ( headers: { 'Authorization' : 'Bearer <TOKEN JWT>' , }, ), data: { 'usuario' : 'teste@email.com' , 'senha' : \"123456\" , 'token_push' : \"<TOKEN PUSH>\" , 'token_voip' : \"<TOKEN VOIP>\" , 'so' : \"IOS\" , 'so_ver' : \"12.5.2\" , 'app_id' : 2 , }, ); Response JSON { \"data\" : { \"info\" : \"teste1\" , \"id\" : 226 , \"email\" : \"teste1@email.com\" , \"token\" : \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2YWwiOjE2MjYzNjQ4MTUsImRhdGEiOnsiaWQiOiIyMjYiLCJlbWFpbCI6InRlc3RlMUBlbWFpbC5jb20iLCJjZWxfaWQiOiI1NTkxIiwiYXBwX2lkIjoiMiJ9fQ.u1-pD78xeLpnWcTHIy6rJQIUabsiCYEZnFCJj6mqi0k\" , \"code\" : 200 }, } Cadastro de usu\u00e1rios O processo de cadastro \u00e9 baseado na confirma\u00e7\u00e3o do n\u00famero de celular, via SMS. Sendo dividido em 3 etapas: Etapa 1 - Informar o n\u00famero do celular. ( Processado via requisi\u00e7\u00e3o \u00e1 API ) Deve ser feita uma requisi\u00e7\u00e3o ao servidor, passando o n\u00famero de celular informado pelo usu\u00e1rio. Essa requisi\u00e7\u00e3o ir\u00e1 retornar o PIN Code, que ser\u00e1 usado no pr\u00f3ximo passo. O pin code deve ser salvo localmente no front-end, para posteriormente ser comparado ao c\u00f3digo informado pelo usu\u00e1rio. Etapa 2 - Confirmar PIN Code recebido via sms. ( Processado via frontend ) Essa etapa n\u00e3o envolve requisi\u00e7\u00e3o a API. A confirma\u00e7\u00e3o \u00e9 feita pelo front-end, da seguinte forma: O usu\u00e1rio deve informar o c\u00f3digo recebido via SMS, e o sistema deve verificar se esse c\u00f3digo bate com c\u00f3digo recebido na resposta da requisi\u00e7\u00e3o da etapa 1. Etapa 3 - Informar dados do usu\u00e1rio. ( Processado via requisi\u00e7\u00e3o \u00e1 API ) Requisi\u00e7\u00e3o ao servidor, passando os dados do usu\u00e1rio ( User, senha, etc ). Inform phone number Endpoint: https://www.segcontrole.com.br/safer/v1/login.php Parametros Parametro Tipo Descri\u00e7\u00e3o usuario STRING Obrigat\u00f3rio Usu\u00e1rio utilizado para fazer o acesso(login). Nessa caso, o parametro usuario corresponde ao numero de celular usado no cadastro. senha STRING Obrigat\u00f3rio Senha de acesso do usu\u00e1rio. token_push STRING Obrigat\u00f3rio Token push gerado pelo firebase messaging. Utilizado para enviar notifica\u00e7\u00f5es push para o usu\u00e1rio. token_voip STRING Obrigat\u00f3rio Token de chamadas VOIP so STRING Obrigat\u00f3rio Indica qual o sistema operacional em que o app esta instalado. Valores: IOS / ANDROID so_ver STRING Obrigat\u00f3rio Indica qual a vers\u00e3o do sistema operacional. app_id INT Obrigat\u00f3rio ID do aplicativo. ( Cada aplicativo da familia Safer tem seu ID unico ) Authorization \ud83d\udd11 \u2002 Token JWT Example Request Dart var response = await dio . post ( 'https://www.segcontrole.com.br/safer/v1/login.php' , options: Options ( headers: { 'Authorization' : 'Bearer <TOKEN JWT>' , }, ), data: { 'usuario' : 'teste@email.com' , 'senha' : \"123456\" , 'token_push' : \"<TOKEN PUSH>\" , 'token_voip' : \"<TOKEN VOIP>\" , 'so' : \"IOS\" , 'so_ver' : \"12.5.2\" , 'app_id' : 2 , }, ); Example Response JSON { \"data\" : { \"info\" : \"teste1\" , \"id\" : 226 , \"email\" : \"teste1@email.com\" , \"token\" : \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2YWwiOjE2MjYzNjQ4MTUsImRhdGEiOnsiaWQiOiIyMjYiLCJlbWFpbCI6InRlc3RlMUBlbWFpbC5jb20iLCJjZWxfaWQiOiI1NTkxIiwiYXBwX2lkIjoiMiJ9fQ.u1-pD78xeLpnWcTHIy6rJQIUabsiCYEZnFCJj6mqi0k\" , \"code\" : 200 }, }","title":"Autentica\u00e7\u00e3o"},{"location":"auth/#login","text":"","title":"Login"},{"location":"auth/#introducao","text":"Requisi\u00e7\u00e3o utilizada para validar um usu\u00e1rio. Se for bem sucedida, retorna um Token JWT que ser\u00e1 usado para requisi\u00e7\u00f5es futuras.","title":"Introdu\u00e7\u00e3o"},{"location":"auth/#request","text":"Endpoint: https://www.segcontrole.com.br/safer/v1/login.php Method:","title":"Request"},{"location":"auth/#parametros","text":"Parametro Tipo Descri\u00e7\u00e3o usuario STRING Obrigat\u00f3rio Usu\u00e1rio utilizado para fazer o acesso(login). Nessa caso, o parametro usuario corresponde ao numero de celular usado no cadastro. senha STRING Obrigat\u00f3rio Senha de acesso do usu\u00e1rio. token_push STRING Obrigat\u00f3rio Token push gerado pelo firebase messaging. Utilizado para enviar notifica\u00e7\u00f5es push para o usu\u00e1rio. token_voip STRING Obrigat\u00f3rio Token de chamadas VOIP so STRING Obrigat\u00f3rio Indica qual o sistema operacional em que o app esta instalado. Valores: IOS / ANDROID so_ver STRING Obrigat\u00f3rio Indica qual a vers\u00e3o do sistema operacional. app_id INT Obrigat\u00f3rio ID do aplicativo. ( Cada aplicativo da familia Safer tem seu ID unico )","title":"Parametros"},{"location":"auth/#authorization","text":"\ud83d\udd11 \u2002 Token JWT","title":"Authorization"},{"location":"auth/#examples","text":"","title":"Examples"},{"location":"auth/#request_1","text":"Dart var response = await dio . post ( 'https://www.segcontrole.com.br/safer/v1/login.php' , options: Options ( headers: { 'Authorization' : 'Bearer <TOKEN JWT>' , }, ), data: { 'usuario' : 'teste@email.com' , 'senha' : \"123456\" , 'token_push' : \"<TOKEN PUSH>\" , 'token_voip' : \"<TOKEN VOIP>\" , 'so' : \"IOS\" , 'so_ver' : \"12.5.2\" , 'app_id' : 2 , }, );","title":"Request"},{"location":"auth/#response","text":"JSON { \"data\" : { \"info\" : \"teste1\" , \"id\" : 226 , \"email\" : \"teste1@email.com\" , \"token\" : \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2YWwiOjE2MjYzNjQ4MTUsImRhdGEiOnsiaWQiOiIyMjYiLCJlbWFpbCI6InRlc3RlMUBlbWFpbC5jb20iLCJjZWxfaWQiOiI1NTkxIiwiYXBwX2lkIjoiMiJ9fQ.u1-pD78xeLpnWcTHIy6rJQIUabsiCYEZnFCJj6mqi0k\" , \"code\" : 200 }, }","title":"Response"},{"location":"auth/#cadastro-de-usuarios","text":"O processo de cadastro \u00e9 baseado na confirma\u00e7\u00e3o do n\u00famero de celular, via SMS. Sendo dividido em 3 etapas: Etapa 1 - Informar o n\u00famero do celular. ( Processado via requisi\u00e7\u00e3o \u00e1 API ) Deve ser feita uma requisi\u00e7\u00e3o ao servidor, passando o n\u00famero de celular informado pelo usu\u00e1rio. Essa requisi\u00e7\u00e3o ir\u00e1 retornar o PIN Code, que ser\u00e1 usado no pr\u00f3ximo passo. O pin code deve ser salvo localmente no front-end, para posteriormente ser comparado ao c\u00f3digo informado pelo usu\u00e1rio. Etapa 2 - Confirmar PIN Code recebido via sms. ( Processado via frontend ) Essa etapa n\u00e3o envolve requisi\u00e7\u00e3o a API. A confirma\u00e7\u00e3o \u00e9 feita pelo front-end, da seguinte forma: O usu\u00e1rio deve informar o c\u00f3digo recebido via SMS, e o sistema deve verificar se esse c\u00f3digo bate com c\u00f3digo recebido na resposta da requisi\u00e7\u00e3o da etapa 1. Etapa 3 - Informar dados do usu\u00e1rio. ( Processado via requisi\u00e7\u00e3o \u00e1 API ) Requisi\u00e7\u00e3o ao servidor, passando os dados do usu\u00e1rio ( User, senha, etc ).","title":"Cadastro de usu\u00e1rios"},{"location":"auth/#inform-phone-number","text":"Endpoint: https://www.segcontrole.com.br/safer/v1/login.php","title":"Inform phone number"},{"location":"auth/#parametros_1","text":"Parametro Tipo Descri\u00e7\u00e3o usuario STRING Obrigat\u00f3rio Usu\u00e1rio utilizado para fazer o acesso(login). Nessa caso, o parametro usuario corresponde ao numero de celular usado no cadastro. senha STRING Obrigat\u00f3rio Senha de acesso do usu\u00e1rio. token_push STRING Obrigat\u00f3rio Token push gerado pelo firebase messaging. Utilizado para enviar notifica\u00e7\u00f5es push para o usu\u00e1rio. token_voip STRING Obrigat\u00f3rio Token de chamadas VOIP so STRING Obrigat\u00f3rio Indica qual o sistema operacional em que o app esta instalado. Valores: IOS / ANDROID so_ver STRING Obrigat\u00f3rio Indica qual a vers\u00e3o do sistema operacional. app_id INT Obrigat\u00f3rio ID do aplicativo. ( Cada aplicativo da familia Safer tem seu ID unico )","title":"Parametros"},{"location":"auth/#authorization_1","text":"\ud83d\udd11 \u2002 Token JWT","title":"Authorization"},{"location":"auth/#example-request","text":"Dart var response = await dio . post ( 'https://www.segcontrole.com.br/safer/v1/login.php' , options: Options ( headers: { 'Authorization' : 'Bearer <TOKEN JWT>' , }, ), data: { 'usuario' : 'teste@email.com' , 'senha' : \"123456\" , 'token_push' : \"<TOKEN PUSH>\" , 'token_voip' : \"<TOKEN VOIP>\" , 'so' : \"IOS\" , 'so_ver' : \"12.5.2\" , 'app_id' : 2 , }, );","title":"Example Request"},{"location":"auth/#example-response","text":"JSON { \"data\" : { \"info\" : \"teste1\" , \"id\" : 226 , \"email\" : \"teste1@email.com\" , \"token\" : \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ2YWwiOjE2MjYzNjQ4MTUsImRhdGEiOnsiaWQiOiIyMjYiLCJlbWFpbCI6InRlc3RlMUBlbWFpbC5jb20iLCJjZWxfaWQiOiI1NTkxIiwiYXBwX2lkIjoiMiJ9fQ.u1-pD78xeLpnWcTHIy6rJQIUabsiCYEZnFCJj6mqi0k\" , \"code\" : 200 }, }","title":"Example Response"},{"location":"intro/","text":"introducao","title":"Intro"}]}